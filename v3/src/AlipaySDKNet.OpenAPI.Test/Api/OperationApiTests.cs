/*
 * 支付宝开放平台API
 *
 * 支付宝开放平台v3协议文档
 *
 * The version of the OpenAPI document: 1.0
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */

using System;
using System.IO;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.Diagnostics;
using System.Linq;
using System.Reflection;
using RestSharp;
using Xunit;
using AlipaySDKNet.OpenAPI.Client;
using AlipaySDKNet.OpenAPI.Api;
// uncomment below to import models
using AlipaySDKNet.OpenAPI.Model;
using AlipaySDKNet.OpenAPI.Util;
using AlipaySDKNet.OpenAPI.Util.Model;
using Newtonsoft.Json;
using Xunit.Abstractions;

namespace AlipaySDKNet.OpenAPI.Test.Api
{
    /// <summary>
    ///  Class for testing OperationApi
    /// </summary>
    /// <remarks>
    /// This file is automatically generated by OpenAPI Generator (https://openapi-generator.tech).
    /// Please update the test case below to test the API endpoint.
    /// </remarks>
    public class OperationApiTests : IDisposable
    {
        private AlipayTradeApi instance;
        private ITestOutputHelper output;
        private GenericExecuteApi api;

        private String privateKey =
            "MIIEogIBAAKCAQEAgyfCUS7eDw4+ce4wGTvfXcJd1QXg79r+eeRWTFJako9Hu2pjY3f8k36vBW3n9usMPnQNaCoXvskqIogYfD1q3fvRhkdwa+i7lVZ2o3hb41a4BRr9tleIGj9Wshi1MbKarkcCvHFA2cWUGW+KXxffeIJ7qB28w3QjWLj2+WHoQ8K1Ll0jachKA8DCRYVs7Pfy4Yh8woUbI3LpMD6L81Mvcle319/9F72UKI+uXq6tVzwUZlh3UacRszD20XtWU6CiPWnqXV94k1euwCD52DTnS0FI4QdlOjKi1BlBlAdRKYxRj2Y55u7ADaDwPyyAs2kAoDOu4tIJInaZXzyxYzFmewIDAQABAoIBAFqM1bT1FazxWZ2RJDYXxyRVcDEFyQHwgWcohYhWB2BOeejkD9B547D1cuLduZwZNa/csfDrts8q1eNXcQg94w11sXfy1KQ7317AflJoY5B2q8AinW4JytbMSg/VzSuNswuFzVbLHkn8Bj71amQy+D+cXsF4Hn4XLdwwf5s3xIMa6h8JJwBPUyyZe43iL8tqbN9/u4Plj168x9xuSo73X0l+RKnhyt7z06lP+ToYhX5AMO6wCbX+SwfF5+BMrxLEFeI2EkaifYkBjnOLKo79xROuxOsLgsJI0sLbZ5KYqit3TxuOMAOje/oo185dsL7NXHbANyC3w24IEn8v4ZBFizkCgYEAxCbaK6w68YJ3rY1iVikcu2Q1F+zyt85VVqigYzf1ieRjDH8P6g66wgpNTvrOQc34iHRGoEXeNGml8vlf/FSzMp5ELrr9TJ06uALnPGbcCDiVkLObiw6YTjfltYDSROGgauUjowvCxu37V1bYw0389AUyyEYeLTtwovj8yL8BXicCgYEAqywfM/RC9CtfiqqDtDPC6Li8ON6M5f4oz6T8nG1vaS43ZZz/mIzaAG60VGQTeorD1NMny7rtsl9Kxyg2g0AMWjdmY05Nwd5YFHcAr5MTyfGrZL+BDxPwQXooQG95TLv3c3pe27aEexYJBFZYtmIiXxWyCXb6DJsxtLRwUwH8/Y0CgYA3BrMzhzht4ezS6hPJGfVueFkQoi8g8ygrjFiaHOuryD8lFUwQnBs2Lg+r9V4BRdfP59acRZ1lVLHyLJUJw3UV4SI9fcVrRbxgPKhD4JMfV0hV9JzQ8MI3RyUQutfB7Q3Ejw1lQvpcNgzJXpqmh21Lw12Qo2L5y2/4uCKp6jNnBwKBgEEtCayEo0HJihWIm6Fv3BU00iZtRwUD45I85hrB6JwKBvnf78qsRw3HGU7Q1EHiuHI+/HYsdPloI1b1ztvm9U0crxW86QqamLsiHNa9j9li9bnk2UVeeCrWUqFGUM+Q+sWzoI7UTll3qHNIVXsMnr3JywKjlM5cAW8nDWXt6eC5AoGADikCGnQINNGBQn85vbpc835+TEnde2oZEjBnEUcypydx+TGH8bLF/WFEKxnPGXo+bdOFA+nRFPy/TZPIoMjAWwfbMjkIkKPXtz30+p70ueNAFz5/9jhxMcxTrwCnAWhSgb6+qB0YUwsIeZAfAgnAYeZbXSByihfcafcyke1ArnA=";

        private String publicKey =
            "MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAgyfCUS7eDw4+ce4wGTvfXcJd1QXg79r+eeRWTFJako9Hu2pjY3f8k36vBW3n9usMPnQNaCoXvskqIogYfD1q3fvRhkdwa+i7lVZ2o3hb41a4BRr9tleIGj9Wshi1MbKarkcCvHFA2cWUGW+KXxffeIJ7qB28w3QjWLj2+WHoQ8K1Ll0jachKA8DCRYVs7Pfy4Yh8woUbI3LpMD6L81Mvcle319/9F72UKI+uXq6tVzwUZlh3UacRszD20XtWU6CiPWnqXV94k1euwCD52DTnS0FI4QdlOjKi1BlBlAdRKYxRj2Y55u7ADaDwPyyAs2kAoDOu4tIJInaZXzyxYzFmewIDAQAB";

        public OperationApiTests(ITestOutputHelper output)
        {
            this.output = output;
            instance = new AlipayTradeApi();
            AlipayConfig alipayConfig = new AlipayConfig();
            // alipayConfig.ServerUrl = "http://ptsv2.com";
            // alipayConfig.AppId = "2021003126691367";
            // alipayConfig.PrivateKey = "";
            // alipayConfig.AlipayPublicKey = "";
            // alipayConfig.EncryptKey = "";

            alipayConfig.AppId = "2021003156675030";
            alipayConfig.PrivateKey =
                "MIIEowIBAAKCAQEAi2ntiLHTJ4r2uc+VgcSqU6OLg0OWhXFBiaviWjthGFhY09Abs62T+ZbQVEsk2wFFRufPQ53mt7B/mZy/vCPsRykRVd+qSOkSwsmppp08lrs+mWW9N3fEzS2XnSiHkPZarVDdOmVEc8Qz8RSuLKdeBI/Q61Ly3MkCn8vn1zfa07JlSKES8IB+QRJywHqUA2M3Ty05N3SI5fNIHwnI2gdn8Z1LxXJWpJIUYlkde+iNe/YYTUirFQPyejqLNZnd3cOqMbeXM0v/4o8OB7w/SyyvFZgkBVjVrmhCNPbYzRjXtNvNPAfmt9A+BThuhsROBiWOClERUqOqL7C0yRHCia2bgQIDAQABAoIBAB82B8eih/NCWRogLwhuTvOKmaE5cGlPgaygnnw07vfUT46b+JexNH+cE+fLKuUc07WcD/rDTvOwv+BUB1jHcg48U3U2LZlFFL4nB6QVb4sPQGR3MnVIivakTl0QxcjeXk6O2/hG05xXQImoZ5X3okTDLbKBT32+QqgjrjOwfX0HDCUwDhrCcJ844uMdGVOE42IwkPh+4z66rKQL+0bm+jIsy9ZaQKVuzu588d0/kayO+RJxPme+Id57y8ZmezptUMIT0buzakK/Dhui1/JOMuNQVuf+Bbi3KU/JXenyIfZPxFl4DihJ1XW0MtbaRyjp33GPGWPOwzuO9oRVNRLb5UECgYEA8TenDyqD+85kLLsxqLsh46XUKxzWJRQ0QrJjjYwwZmEM2ZzjJpdwWjpA31bZiU8FZQDkkpRAOVjx9ZiHzSFlQYxTDQKYz9/Auwwe8TQff08DUWoD5CIo7/Fw4mPriTzcUwT96nZWxxVVORCkuWmytsu+GLOxAkPlL2Qfdg9AWW8CgYEAk/UgNCkVKD8luNRuHGfVKsdt8BMVZCPb20q4HEQHkA++izqZZRlsv4IPTZm6KsTMT1SWDXVhAg2AzEr0cd8duZ3GdmCgqIFjG4U6sfGJDEtpF/mbDi9WdQn3oBbSFsQueKhx+7EA5uSNWq1zFl671nyTVqafVw99mJmBWXVigg8CgYANHiWroXhD/VldRWDR+DtDkgUTwyGyKoMdDW50iCcpqiV0wB9qPdoSThCxFJwH55A3ifDkN8O2Wqvt2zmnYiWLhwINNxLwWw60HVihbWA5ICbiCo3jnifzxIGLDjwE3pZsvVzBn2XgtbxIuir7GlBpuHLCDSOXJ/ISvbMoTHQHaQKBgA+ZouGdC0wJDHMmgs2f7Qvrpx3PBUxfs4i1oh/o1FtOLasEbLQKMDso/XATK1vjEB+1LXUR0T6kKdZgeNGg0sOFbS2CFq5tpgN60qt8ahTPxq7udHjUaOtCN8e7YD9iQ/wY1pvRF+VAZ98Ntrq/FlMRI3/ZZaeKTJXQaaEDDXXlAoGBANTJ6zaChnYu4YlOuVEB9WekjXW33bNOCr2C16yzEtiuICOnTDMbMNeopHbXzdvZfmwm+guR48DbEZfVPqUHjnUExcz2NJANnV58uYmukuyQ+RyBw/JGFQZkXdEGwdbBdld4AwXul5Nfbt8+LQCppAXfyaAhPf020pxT7Tch19PM";
            alipayConfig.AppCertPath = GetSolutionBasePath() +
                                       "/AlipaySDKNet.OpenAPI.Test/Cert/appCertPublicKey_2021003156675030.crt";
            alipayConfig.RootCertPath = GetSolutionBasePath() + "/AlipaySDKNet.OpenAPI.Test/Cert/alipayRootCert.crt";
            alipayConfig.AlipayPublicCertPath =
                GetSolutionBasePath() + "/AlipaySDKNet.OpenAPI.Test/Cert/alipayCertPublicKey_RSA2.crt";
            // alipayConfig.EncryptKey = "Yy860MatsGQujXalHsTKVg==";
            AlipayConfigUtil alipayConfigUtil = new AlipayConfigUtil(alipayConfig);
            instance.Client.SetAlipayConfigUtil(alipayConfigUtil);
            
            
            api = new GenericExecuteApi();
            api.Client.SetAlipayConfigUtil(alipayConfigUtil);
        }

        public static string GetSolutionBasePath()
        {
            string current = Directory.GetCurrentDirectory();
            do
            {
                current = Directory.GetParent(current).ToString();
            } while (!current.EndsWith("bin", StringComparison.Ordinal));

            return current + "/../..";
        }

        public void Dispose()
        {
            // Cleanup when everything is done.
        }

        /// <summary>
        /// Test an instance of OperationApi
        /// </summary>
        [Fact]
        public void InstanceTest()
        {
            // TODO uncomment below to test 'IsType' OperationApi
            //Assert.IsType<OperationApi>(instance);
        }

        /// <summary>
        /// Test Query
        /// </summary>
        [Fact]
        public void QueryTest()
        {
            CustomizedParams customizedParams = new CustomizedParams();
            Dictionary<string, string> headerParams = new Dictionary<string, string>();
            headerParams.Add("alipay-request-id","333");
            customizedParams.HeaderParams = headerParams;
            
            AlipayTradePayModel alipayTradePayModel = new AlipayTradePayModel();
            alipayTradePayModel.OutTradeNo = "20210817010101001";
            alipayTradePayModel.TotalAmount = "0.011";
            alipayTradePayModel.Subject = "测试商品";
            alipayTradePayModel.Scene = "bar_code";
            alipayTradePayModel.AuthCode = "28763443825664394";
            try
            {
                AlipayTradePayResponseModel alipayTradePayResponseModel = instance.Pay(alipayTradePayModel, 0, customizedParams);
            }
            catch (ApiException e)
            {
                AlipayTradePayDefaultResponse errorObject = (AlipayTradePayDefaultResponse)e.ErrorObject;
                if (errorObject != null && errorObject.ActualInstance is CommonErrorType)
                {
                    var commonErrorType = errorObject.GetCommonErrorType();
                    output.WriteLine("CommonErrorType:" + commonErrorType.Code);
                }
                else if (errorObject != null && errorObject.ActualInstance is CommonErrorType)
                {
                    var responseModel = errorObject.GetAlipayTradePayErrorResponseModel();
                    output.WriteLine("AlipayTradePayErrorResponseModel:" + responseModel.Code);
                }
                else
                {
                    output.WriteLine("Exception when calling AlipayTradeApi.Pay: " + e.Message );
                    output.WriteLine("Status Code: "+ e.ErrorCode);
                    output.WriteLine(e.StackTrace);
                }
            }
        }

        [Fact]
        public void ExecuteTest2()
        {
            OpenApiGenericRequest request = new OpenApiGenericRequest();
            
            Dictionary<string, Object> pathParams = new Dictionary<string, Object>();
            pathParams["activity_id"] = "123";
            pathParams["voucher_code"] = "券码1";
            request.PathParams = pathParams;
            
            Dictionary<string, Object> queryParams = new Dictionary<string, Object>();
            queryParams["notify_url"] = "https://www.aaa.com";
            request.QueryParams = queryParams;
            
            Dictionary<string, Object> bizParams = new Dictionary<string, Object>();
            bizParams["merchant_access_mode"] = "特殊sss";
            bizParams["biz_dt"] = "2017-01-01 00:00:01";
            bizParams["out_biz_no"] = "1002600620019090123143254436";
            bizParams["total_fee"] = "999.99";
            request.BizParams = bizParams;
            
            ApiResponse<object> apiResponse = api.Execute("/v3/alipay/marketing/activity/{activity_id}/ordervoucher/{voucher_code}/refund", HttpMethod.Post, request);
            
        }

        [Fact]
        public void ExecuteTest3()
        {
            OpenApiGenericRequest request = new OpenApiGenericRequest();
            
            Dictionary<string, Object> bizParams = new Dictionary<string, Object>();
            bizParams["app_category_ids"] = "11_12;12_13";
            bizParams["app_english_name"] = "demoexample";
            bizParams["app_name"] = "杭州支小宝潮流女装店";
            bizParams["service_email"] = "example@mail.com";
            request.BizParams = bizParams;

            Dictionary<string, Stream> fileParams = new Dictionary<string, Stream>();
            fileParams["app_logo"] = new FileStream(
                    "AlipaySDKNet.OpenAPI.Test/Cert/pic.jpg",
                    FileMode.Open, FileAccess.Read);
            request.FileParams = fileParams;
            
            ApiResponse<object> apiResponse = api.Execute("/v3/alipay/open/mini/baseinfo/modify", HttpMethod.Post, request);

        }

        [Fact]
        public void ExecuteTest()
        {
            CustomizedParams customizedParams = new CustomizedParams();
// customizedParams.BodyContent = "{" +
//                                "    \"body\":\"对一笔交易的具体描述信息。如果是多种商品，请将商品描述字符串累加传给body。\"," +
//                                "    \"subject\":\"大乐透\"," +
//                                "    \"out_trade_no\":\"70501111111S001111119\"," +
//                                "    \"timeout_express\":\"90m\"," +
//                                "    \"total_amount\":9.00," +
//                                "    \"product_code\":\"QUICK_WAP_WAY\"" +
//                                "  }";
            Dictionary<string, string> queryParams = new Dictionary<string, string>();
            queryParams["notify_url"] = "https://www.aaa.com";
            queryParams["return_url"] = "https://www.bbb.com";
            customizedParams.QueryParams = queryParams;

            Dictionary<string, Object> bizParams = new Dictionary<string, object>();
            Dictionary<string, Object> otherParams = new Dictionary<string, object>();
            otherParams.Add("body","对一笔交易的具体描述信息。如果是多种商品，请将商品描述字符串累加传给body。");
            otherParams.Add("subject","大乐透");
            otherParams.Add("out_trade_no","70501111111S001111119");
            otherParams.Add("timeout_express","90m");
            otherParams.Add("total_amount",9.00);
            otherParams.Add("product_code","QUICK_WAP_WAY");
            bizParams.Add("biz_content", otherParams);

            // AlipayMarketingActivityOrdervoucherAppendModel model = new AlipayMarketingActivityOrdervoucherAppendModel("1231xxq12312ty111112xxxxqqewx", "2.0.0", 15);
// bizParams.Add("biz_content", model);

            string response = api.PageExecute("alipay.trade.wap.pay", "POST", bizParams, "11223", null, customizedParams);
            // output.WriteLine(response);

            string response2 = api.PageExecute("alipay.trade.wap.pay", "GET", bizParams, "11223", null, customizedParams);
            output.WriteLine(response2);

            string response3 = api.SdkExecute("alipay.trade.wap.pay", bizParams, "11223", null, customizedParams);
            // output.WriteLine(response3);
        }

        [Fact]
        public void should_pass_check_v1_when_sign_is_self_generated()
        {
            //gien
            Dictionary<string, string> parameters = new Dictionary<string, string>
            {
                { "测试Key1", "测试Value1" },
                { "测试Key2", "测试Value2" }
            };
            parameters.Add("sign", AlipaySignature.Sign(parameters, this.privateKey, "UTF-8", "RSA2", false));
            parameters.Add("sign_type", "RSA2");

            //when
            bool result = AlipaySignature.VerifyV1(parameters, this.publicKey, "UTF-8", "RSA2", false);

            //then
            output.WriteLine("result:" + result);
        }
        
        [Fact]
        public void should_pass_rsa_check_v2_when_sign_is_self_generated()
        {
            //gien
            Dictionary<string, string> parameters = new Dictionary<string, string>
            {
                { "测试Key1", "测试Value1" },
                { "测试Key2", "测试Value2" },
                { "sign_type", "RSA2" }
            };
            parameters.Add("sign", AlipaySignature.Sign(parameters, privateKey, "UTF-8", "RSA2", false));


            //when
            bool result = AlipaySignature.VerifyV2(parameters, publicKey, "UTf-8", "rSa2", false);

            //then
            output.WriteLine("result:" + result);
        }

        [Fact]
        public void should_get_xml_contains_essential_nodes_after_encrypt_and_sign()
        {
            publicKey = "MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAohmWF9HXjI3VRxrKbuZq4YK6lIFAIzUZ4xvY4iw2zwYiblPkB0FWbqxouyyB9nmAyK+hN/5tyXatpskcy6rO6zJl3kfdog0lRA7g06+YpdHVHhu/bXfaz+BfCA3YHwjkBQffMa8Amwy6JZF6aDiXDdYP/YWKmFk1t4K6F1853EDf2vYsT6AsVYRk2xkw+fx3/qIWaidHETjNBnOOPRG68hLf0H0DCeEOsLp3mFox2LARRQol5IfV45nNq2a2zb6ubwZbgXypZM3vfLQekUaxAaC1Vuu4gYWxPRCzHE1e6aQpEuacVVYCnjNURvDmDpT7oMzh+HtN0DKCe6yOHRDZ3QIDAQAB";
            privateKey =
                "MIIEowIBAAKCAQEAndurGPamwR/7Xs/w5gvhWUSpPfpdKNjPUtWPE1C5rzyf+UyfwHRntKbkB+sSJHiL8smcPSL0Ual9Oh8DGRSYodxAPSROgQhOimr9RPMhfFHmQZNzrA7WczTmT1mdoSnW8MIQjK+YtwEYKyr35jW9YN/tN41LWUI39XkpySGwkoDRu7+lD0OyLOMpYeuJLphZI9k8z4O+8Whbyk0h6JhIt7tBGpQjQ/1gTPW5tYpMjPqjsLkZTiLjwJtay2Vnh5U2qo0c8b4w7ps5kHrVh7itEQBk7oWJIn22S5MP6URscwVwyp9jIcZO9JphfMTNU1H6AxCOVoomU3OVPdaJaaC+2QIDAQABAoIBAFS0MIT+pM/wN1PSxHLMYSkjXKTzGNX4MJdEHLfCk0BiiXyeDwKX86XN/4H4Mw362S133Sw4+1xuU9HCHklw8c24f4fPWYiHSo2fhzNeOtOYprL9Sg5DD/NVqVdewORfrQQXPgYfmxRns+5F6itPHsVCoukyGgJVM+22DCPuve599Ux1PB4tEKDdAc5KgjhdE0qlX4UNzIw7dUT1aX6TodjI2ye03z2/qc+TMcZNHC1/LV0us4jWlxgdWgTVSh1LaZO++tgiTZMCmsvqlYNAHrKYIkn/8ibQHjOu0wf5LJBrxZA9AtxQ6bt0soa2Hbz9gbgzQc3aMAURdakbhzxBgmECgYEAyzErSCWXi1F4kLmnqqjX2WxUHx5dnTsGA1ewBtNUu0ETVYhQQYbgccxtaVCET8eMWxUJn23MmF7E+2eknYop7FioV3PcKQFDVeMo8ZVPScrK1FPu71RwhCEBG7Kj3JevPB+NBruKhwvbX+MNkuJnMnx0t9IDa8SYX3u4PRRQhF0CgYEAxuJTbF1eS9MA7trQP5WcxbiXsVZCQ3nJk3vH/q1yQaYolUXiv5Pb/B7rC/9n9HQMO8sMDgmN3l60L5bkIfRLMd20Ysje42NCcdFb9IgK4eDtW5d4iMd/b+ZskxEEuj4Tsq5JAmW2BbJzVy+DkV4vO6tSG8ime+Y3mXFzMTXfvK0CgYAm/ahwj8Yk1d1s6DNkbEH/VupNjmYoZcshmRIOPT9lL3emUiIUcO1g6PmV2/2H0aL9V2whS9CW7JigJaNRF9IzqE+leHYm6DcjpBOXSC+O2XtSg0i2ZF2y/SJZTk5jZjgaMXO+dv5+K6hNHiTcqtViur8rBwHhDDixGeygy+UngQKBgQC5r627yyCzInoIh/tOol0QrVvTknmjjh2JuVPsj/vRF1VkqS8fNul451UEip2AOqkBWn4SzRDLwRfyJqswmGlsUVaNtIWFP7NVmOaF1E50vhBeJ3m+GqT80OImHQmQ6Uxy0w4PUu8zOn09tXrdSlZHG5k5n4jwvOzEMoweMfKGsQKBgFOtAal+BIxx3DC+TbD+d1ajyfHQ9XGiNGiHoCAqwm6XKvqHBKanO9meWH7yPBPREbIINIHNu2mmqTT4YahsJDOFO5vwpgDiOXsc5tdu/k0Iw2DvBTGIlC1y2tMz2GBHzbpLWSNMaC+QAGcCDb3jkt+kt5C5Sgszu2VVLiFeUXys";

            string result = AlipaySignature.EncryptAndSign("test", publicKey,
                privateKey, "UTF-8", true, true, "RSA2", false);
            output.WriteLine("result:" + result);
        }

        [Fact]
        public void should_get_exception_when_sign_not_match()
        {
            publicKey = "MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAohmWF9HXjI3VRxrKbuZq4YK6lIFAIzUZ4xvY4iw2zwYiblPkB0FWbqxouyyB9nmAyK+hN/5tyXatpskcy6rO6zJl3kfdog0lRA7g06+YpdHVHhu/bXfaz+BfCA3YHwjkBQffMa8Amwy6JZF6aDiXDdYP/YWKmFk1t4K6F1853EDf2vYsT6AsVYRk2xkw+fx3/qIWaidHETjNBnOOPRG68hLf0H0DCeEOsLp3mFox2LARRQol5IfV45nNq2a2zb6ubwZbgXypZM3vfLQekUaxAaC1Vuu4gYWxPRCzHE1e6aQpEuacVVYCnjNURvDmDpT7oMzh+HtN0DKCe6yOHRDZ3QIDAQAB";
            privateKey =
                "MIIEowIBAAKCAQEAndurGPamwR/7Xs/w5gvhWUSpPfpdKNjPUtWPE1C5rzyf+UyfwHRntKbkB+sSJHiL8smcPSL0Ual9Oh8DGRSYodxAPSROgQhOimr9RPMhfFHmQZNzrA7WczTmT1mdoSnW8MIQjK+YtwEYKyr35jW9YN/tN41LWUI39XkpySGwkoDRu7+lD0OyLOMpYeuJLphZI9k8z4O+8Whbyk0h6JhIt7tBGpQjQ/1gTPW5tYpMjPqjsLkZTiLjwJtay2Vnh5U2qo0c8b4w7ps5kHrVh7itEQBk7oWJIn22S5MP6URscwVwyp9jIcZO9JphfMTNU1H6AxCOVoomU3OVPdaJaaC+2QIDAQABAoIBAFS0MIT+pM/wN1PSxHLMYSkjXKTzGNX4MJdEHLfCk0BiiXyeDwKX86XN/4H4Mw362S133Sw4+1xuU9HCHklw8c24f4fPWYiHSo2fhzNeOtOYprL9Sg5DD/NVqVdewORfrQQXPgYfmxRns+5F6itPHsVCoukyGgJVM+22DCPuve599Ux1PB4tEKDdAc5KgjhdE0qlX4UNzIw7dUT1aX6TodjI2ye03z2/qc+TMcZNHC1/LV0us4jWlxgdWgTVSh1LaZO++tgiTZMCmsvqlYNAHrKYIkn/8ibQHjOu0wf5LJBrxZA9AtxQ6bt0soa2Hbz9gbgzQc3aMAURdakbhzxBgmECgYEAyzErSCWXi1F4kLmnqqjX2WxUHx5dnTsGA1ewBtNUu0ETVYhQQYbgccxtaVCET8eMWxUJn23MmF7E+2eknYop7FioV3PcKQFDVeMo8ZVPScrK1FPu71RwhCEBG7Kj3JevPB+NBruKhwvbX+MNkuJnMnx0t9IDa8SYX3u4PRRQhF0CgYEAxuJTbF1eS9MA7trQP5WcxbiXsVZCQ3nJk3vH/q1yQaYolUXiv5Pb/B7rC/9n9HQMO8sMDgmN3l60L5bkIfRLMd20Ysje42NCcdFb9IgK4eDtW5d4iMd/b+ZskxEEuj4Tsq5JAmW2BbJzVy+DkV4vO6tSG8ime+Y3mXFzMTXfvK0CgYAm/ahwj8Yk1d1s6DNkbEH/VupNjmYoZcshmRIOPT9lL3emUiIUcO1g6PmV2/2H0aL9V2whS9CW7JigJaNRF9IzqE+leHYm6DcjpBOXSC+O2XtSg0i2ZF2y/SJZTk5jZjgaMXO+dv5+K6hNHiTcqtViur8rBwHhDDixGeygy+UngQKBgQC5r627yyCzInoIh/tOol0QrVvTknmjjh2JuVPsj/vRF1VkqS8fNul451UEip2AOqkBWn4SzRDLwRfyJqswmGlsUVaNtIWFP7NVmOaF1E50vhBeJ3m+GqT80OImHQmQ6Uxy0w4PUu8zOn09tXrdSlZHG5k5n4jwvOzEMoweMfKGsQKBgFOtAal+BIxx3DC+TbD+d1ajyfHQ9XGiNGiHoCAqwm6XKvqHBKanO9meWH7yPBPREbIINIHNu2mmqTT4YahsJDOFO5vwpgDiOXsc5tdu/k0Iw2DvBTGIlC1y2tMz2GBHzbpLWSNMaC+QAGcCDb3jkt+kt5C5Sgszu2VVLiFeUXys";

            Dictionary<String, String> paramters = new Dictionary<string, string>
            {
                { "biz_content", "test" },
                { "charset", "UTF-8" },
                { "sign", "DFM24dXl9tfymSvZvmwcjutWWDoCwF2b/6CqUY2ZdShmnucUGxKqpmDF0m4lu5cm2AKx2KxvrfyOHrpZUBhX9i3YKqj0CV1jDjWBdcFI2gGnNQeShdqGGDhuHgtVeQE8cH/Q7LWSfrJ3EZqKyvCXsAX2GQ7SuhTPbIrq8mlflcIQHIUxUfoucc2F/vBdumwYQ3bT+2P4+7z89AFrPIDQ5A4dh1l3dkHbMTaJrFAz5bSvo5gqNyVV/TLts28HeHvAAYDfGP4eWm5knnh/3AulLdOkj0+m8L/YUR9tUMvNMSB6IJFF7keKq4s6qovfXPJYGZUNfuWKp9EJwDALGD53zg=="}
            };

            AlipaySignature.CheckSignAndDecrypt(
                paramters, publicKey, privateKey, true, true, "RSA", false);
        }
    }
}